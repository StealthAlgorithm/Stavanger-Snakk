let historietext=document.getElementById("historyText"),inputtext=document.getElementById("inputhistory"),message=document.getElementById("message"),menuOpen=!0;function clickmarker(){map.on("click",(function(e){const{lat:lat,lng:lng}=e.latlng;document.getElementById("sendkord").value=[lat,lng],L.marker(e.latlng,{draggable:"true"}).addTo(map).bindPopup("Ny markÃ¸r").openPopup()}))}function getcords(){navigator.geolocation.getCurrentPosition(position=>{L.marker([position.coords.latitude,position.coords.longitude],{draggable:"true"}).addTo(map).bindPopup("your current location").openPopup(),document.getElementById("sendkord").value=[position.coords.latitude,position.coords.longitude]})}function visTextFelt(){document.getElementById("nyText").style.display="block",historietext.style.display="none"}function skjulfelt(){document.getElementById("nyText").style.display="none",historietext.style.display="block",message.style.display="none"}function sjekklengde(){inputtext.value.length>20?message.style.display="none":(console.log(inputtext.value.length),message.style.display="flex",message.innerText="Teksten du inntastet er ikke lang nokk")}function visnormal(){document.getElementsByTagName("header")[0].style.display="grid",document.getElementsByTagName("footer")[0].style.display="flex"}function skjulnormal(){document.getElementsByTagName("header")[0].style.display="none",document.getElementsByTagName("footer")[0].style.display="none"}function cpmenu(cp){1==cp?(document.getElementById("menu").style.display="grid",$("main").css("filter"," blur(8px)"),menuOpen=!1):($("#menu").fadeOut(),$("main").css("filter","blur()"),menuOpen=!0)}let map=L.map("mapid").setView([58.969975,5.733107],14.2);L.tileLayer("http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{}).addTo(map).on("load",(function(){document.getElementsByClassName("screensplash")[0].style.display="none",visnormal()})),document.getElementById("nyM").addEventListener("mousedown",(function(){clickmarker(),visTextFelt(),cpmenu(0)}),!1),document.getElementById("hPos").addEventListener("mousedown",(function(){getcords(),visTextFelt(),cpmenu(0)}),!1),document.getElementById("cancelbutton").addEventListener("mousedown",(function(){skjulfelt()}),!1),inputtext.addEventListener("keydown",(function(){sjekklengde()}),!1);const menuBtn=document.querySelector(".menu-btn");menuBtn.addEventListener("mousedown",()=>{menuOpen?(menuBtn.classList.remove("open"),cpmenu(1),menuOpen=!1):(menuBtn.classList.add("open"),cpmenu(0),menuOpen=!0)}),window.addEventListener("mousedown",(function(e){e.target!=historietext&&(historietext.innerText="",historietext.style.padding="")}));